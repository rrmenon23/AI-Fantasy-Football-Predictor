version: "3.9"
services:
db:
image: postgres:15
environment:
POSTGRES_DB: fantasy
POSTGRES_USER: fantasy
POSTGRES_PASSWORD: fantasy
ports: ["5432:5432"]
volumes:
- dbdata:/var/lib/postgresql/data
api:
build: ./backend
env_file:
- ./backend/.env
depends_on: [db]
ports: ["8000:8000"]
command: uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
web:
build: ./frontend
ports: ["5173:5173"]
command: ["npm","run","dev","--","--host"]
volumes:
dbdata: